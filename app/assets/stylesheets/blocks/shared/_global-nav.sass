$global-nav-width: 5rem
$global-nav-width-sm: 13rem

.global-nav
  display: inline
  +media-breakpoint-down(sm)
    +position(fixed, left 0, top 0, bottom 0, 100)
    background-color: rgba(black, 0)
    width: 0
    cursor: pointer
    transition: background-color .4s ease-in
    input:checked + &
      opacity: 1
      width: 100%
      display: block

.global-nav__background
  +position(fixed, left 0, top 0, bottom 0, 1)
  background-color: rgba(black, .6)
  opacity: 1
  height: 100%
  width: 0
  display: inline
  opacity: 0
  input:checked + .global-nav &
    opacity: 1
    width: 100%
    display: block

.global-nav__inner
  background-color: $side
  +size($global-nav-width 100%)
  +position(fixed, left 0, top 0, bottom 0, 3)
  overflow-y: auto
  +media-breakpoint-down(sm)
    transition: left .2s ease-out
    width: $global-nav-width-sm
    overflow-y: auto
    left: $global-nav-width-sm * -1
    input:checked + .global-nav &
      left: 0
      >*
        width: $global-nav-width-sm

.global-nav-current-user
  +padding(vertical, .75rem)

.global-nav-current-user__icon
  +size(($global-nav-width - 1.5rem))
  display: block
  +margin(horizontal, auto)
  +icon-role-style

.global-nav-current-user__name
  +text-block(.75rem 1.45, center $reversal-text)

.global-nav-links__items
  border-bottom: solid 1px $side-border

.global-nav-links__link
  position: relative
  +flex-link
  flex-direction: column
  white-space: nowrap
  +size(100% 4.5rem)
  align-items: center
  justify-content: center
  border-top: solid 1px $side-border
  color: $reversal-text
  transition: color .2s ease-in, background-color .2s ease-in
  +media-breakpoint-down(sm)
    flex-direction: row
    height: 2.75rem
    +padding(horizontal, 1rem)
    justify-content: flex-start
  &:hover
    background-color: $side-shade
  &.is-active
    background-color: $side-active
    color: $side

.global-nav-links__link-icon
  +text-block(1.5rem 1 0 .375rem, center)
  +media-breakpoint-down(sm)
    +text-block(1rem 1 0 0)
    margin-right: .5rem

.global-nav-links__link-label
  +text-block(.625rem 1.45, center)
  +media-breakpoint-down(sm)
    font-size: .875rem
  &.is-sm
    font-size: .75rem

.global-nav__item-count
  +position(right .25rem, top .25rem)
